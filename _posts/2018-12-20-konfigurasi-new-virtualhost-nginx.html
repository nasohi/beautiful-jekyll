---
layout: post
title: Konfigurasi new virtualhost nginx
date: '2018-12-20T12:04:00.000+07:00'
author: Nasohi Ciptandani
tags:
- Nginx
modified_time: '2018-12-21T17:27:10.800+07:00'
blogger_id: tag:blogger.com,1999:blog-7821506235811301823.post-1601905072572043202
blogger_orig_url: https://nciptandani.blogspot.com/2018/12/konfigurasi-new-virtualhost-nginx.html
---

<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[root@sysops-test5 nginx]# cp nginx.conf conf.d/</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[root@sysops-test5 nginx]# cd conf.d/</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[root@sysops-test5 conf.d]# ls</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">nginx.conf</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[root@sysops-test5 conf.d]# mv nginx.conf sysops.net.conf</span><br /><br />edit sysops.net.conf<br /><br />example:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">server {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; listen&nbsp; &nbsp; &nbsp; &nbsp;8000;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; server_name&nbsp; sysops.net;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/usr/share/nginx/html/dashboard2/public;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; index index.php index.html index.htm;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; # Load configuration files for the default server block.</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; include /etc/nginx/default.d/*.conf;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location / {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try_files $uri $uri/ /index.php$is_args$args;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; }</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; #try_files $uri $uri/ /index.php?$query_string;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; error_page 404 /404.html;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location = /40x.html {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; error_page 500 502 503 504 /50x.html;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location = /50x.html {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; location ~ \.php$ {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; try_files $uri =404;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; fastcgi_index index.php;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; include fastcgi_params;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; }</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: inherit;">Restart service nginx</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Install Laravel</span><br /><div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">cd&nbsp;</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">/usr/share/nginx/html/</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">composer create-project laravel/laravel dashboard2 "5.7"</span></div><br /><br /><div><br /></div>