---
layout: post
title: OpenLDAP new second domain or multiple DIT
date: '2019-01-09T19:13:00.000+07:00'
author: Nasohi Ciptandani
tags:
- OpenLDAP
modified_time: '2019-05-29T20:52:06.924+07:00'
blogger_id: tag:blogger.com,1999:blog-7821506235811301823.post-1955819449834619159
blogger_orig_url: https://nciptandani.blogspot.com/2019/01/openldap-multiple-dit.html
---

<div>OS: Debian 9.6</div><div><br /></div><div><br /></div><div><br /></div><div><b>Referensi</b></div><div><br /></div><div>#slapcat -n0</div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><b>newdit.ldif</b></div><div><br /></div><div><br /></div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">dn: olcDatabase={2}mdb,cn=config</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">objectClass: olcDatabaseConfig</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">objectClass: olcMdbConfig</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcDatabase: {2}mdb</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcDbDirectory: /var/lib/ldap/</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcSuffix: dc=nixskill,dc=net</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcAccess: {0}to attrs=userPassword,shadowLastChange by self write by anonymous auth by dn="cn=admin,dc=nixskill,dc=net" write by * none</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcAccess: {1}to dn.base="" by * read</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcAccess: {2}to * by dn="cn=admin,dc=nixskill,dc=net" write by * read</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcLastMod: TRUE</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcRootDN: cn=admin,dc=nixskill,dc=net</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">olcRootPW: Skill39</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">#ldapadd -Y EXTERNAL -H ldapi:/// -f newdit.ldif</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><b><span style="font-family: inherit;">newdc.ldif</span></b></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">dn: dc=nixskill,dc=net</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">objectClass: top</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">objectClass: dcObject</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">objectClass: organization</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">o: nixskill.net</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">dc: nixskill</span></div><div><br /></div><div><br /></div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">#ldapadd -x -D cn=admin,dc=nixskill,dc=net -W -f newdc.ldif</span></div><div><br /></div><div><br /></div><div><br /></div><div><b>newou.ldif</b></div><div><br /></div><div><br /></div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">dn: ou=tkj,dc=nixskill,dc=net</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">objectClass: organizationalUnit</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">ou: tkj</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">#ldapadd -x -D cn=admin,dc=nixskill,dc=net -W -f newou.ldif</span></div><div><br /></div><div><br /></div><div><br /></div><div><b>Check:</b></div><div><br /></div><div><br /></div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">#ldapsearch -x -W -D "cn=admin,dc=nixskill,dc=net" -b "dc=nixskill,dc=net"</span></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><a href="https://www.blogger.com/goog_818388569">https://serverfault.com/questions/262137/multiple-rootdn-on-one-ldap-server</a></div><div><a href="https://stackoverflow.com/questions/30898397/creating-second-database-domain-in-openldap">https://stackoverflow.com/questions/30898397/creating-second-database-domain-in-openldap</a></div><div><a href="https://www.blogger.com/goog_818388569">https://www.thegeekstuff.com/2015/02/openldap-add-users-groups/</a></div><div><a href="http://www.zytrax.com/books/ldap/ch11/multi-dit.html">http://www.zytrax.com/books/ldap/ch11/multi-dit.html</a></div>