---
layout: post
title: Configure Postfix to use Gmail as a Mail Relay on Fedora
date: '2019-01-20T23:04:00.002+07:00'
author: Nasohi Ciptandani
tags:
- Postfix
modified_time: '2019-01-21T14:56:35.211+07:00'
blogger_id: tag:blogger.com,1999:blog-7821506235811301823.post-5791988733486332228
blogger_orig_url: https://nciptandani.blogspot.com/2019/01/configure-postfix-to-use-gmail-as-mail.html
---

<span style="font-family: inherit;"><b>Summary:</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#dnf update &amp;&amp; dnf install postfix cyrus-sasl cyrus-sasl-plain mailx</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#vi /etc/postfix/sasl_passwd</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[smtp.gmail.com]:587&nbsp; &nbsp; username@gmail.com:password</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#chmod 600 /etc/postfix/sasl_passwd</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#vi /etc/postfix/main.cf</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: inherit;"><b>Add or modify the following values:</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">relayhost = [smtp.gmail.com]:587</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">smtp_use_tls = yes</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">smtp_sasl_auth_enable = yes</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">smtp_sasl_security_options =</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">smtp_tls_CAfile = /etc/ssl/certs/ca-bundle.crt</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#postmap /etc/postfix/sasl_passwd</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#systemctl restart postfix.service</span><br /><a href="https://www.blogger.com/goog_707933146"><br /></a><span style="font-family: inherit;"><a href="https://myaccount.google.com/lesssecureapps">https://myaccount.google.com/lesssecureapps</a></span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#mail -s "Subject Here" recipient@domain.com &lt; textfile</span><br /><span style="font-family: inherit;">or</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#telnet localhost 25</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">mail from:</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">rcpt to:&nbsp;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">data</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">your_messages</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">.</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">quit</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: inherit;"><b>Troubleshooting:</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">journalctl -u postfix</span>