---
layout: post
title: How to configure SSH Jump
date: '2019-12-26T20:20:00.001+07:00'
author: Nasohi Ciptandani
tags:
- SSH
modified_time: '2019-12-26T20:23:47.083+07:00'
blogger_id: tag:blogger.com,1999:blog-7821506235811301823.post-3780227933618662396
blogger_orig_url: https://nciptandani.blogspot.com/2019/12/how-to-configure-ssh-jump.html
---

Menggunakan SSH jump untuk akses ke server melalui server lain, begini contoh kasusnya.&nbsp; Untuk mengakses SSH ke server B maka perlu lewat server A dulu.<br /><br /><b>work-pc1</b>~~~~~~ssh~~~~~~&gt;<b>naserver-bastion1</b>~~~~~~ssh~~~~~~~&gt;<b>naserver-app1</b><br /><b><br /></b>Ini juga memiliki manfaat untuk <b>naserver-app1</b> misalnya yang digunakan sebagai production app jadi tidak sembarangan host yang mengakses, hanya <b>naserver-bastion1</b> yang bisa mengaksesnya.<br />Bisa dikatakan juga <b>naserver-bastion1 </b>sebagai perantara untuk akses ke <b>naserver-app1</b>.<br /><br />Berikut konfigurasinya:<br /><br />Simpan konfigurasi ini di client disini dengan nama <b>work-pc1</b> menggunakan linux dengan user nasohi yang akan menyimpan informasi config ssh dan key nya. Simpan script di /home/nasohi/.ssh/config<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Host <b>naserver-bastion1</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; HostName <b>naserver-bastion1.idnux.id</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; IdentityFile /home/<b>nasohi</b>/.ssh/<b>id_rsa</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; User<b> nasohi</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; Port <b>2222</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Host <b>naserver-app1</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; HostName <b>ec2-1-2-3-4.ap-southeast-1.compute.amazonaws.com</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; IdentityFile /home/nasohi/.ssh/<b>naserver-app1.pem</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; User <b>ubuntu</b></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; ProxyCommand ssh -q -W %h:%p&nbsp;<b>naserver-bastion1</b></span><br /><br /><br />Remote ke server juga hanya bisa diakses oleh user nasohi di work-pc1 karena file config diatas disimpan di /home/<b>nasohi</b>/.ssh/config<br /><br />Langsung saja untuk mencobanya dengan perintah <span style="font-family: Courier New, Courier, monospace;"><span style="font-family: courier new, courier, monospace;">ssh&nbsp;</span><span style="font-family: courier new, courier, monospace; font-weight: bold;">naserver-app1 </span><span style="font-family: inherit;">di work-pc1.</span></span><br /><br />Sesuaikan tulisan bold pada konfigurasi diatas seperti hostname, IP, username, Port, SSH Key name, dan nama lainya jika anda ingin mencobanya sendiri, selamat mencoba.<br /><br />Referensi lain:&nbsp;<a href="https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts">https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts</a>