---
layout: post
title: Konfigurasi Libnss-LDAP
date: '2019-09-09T17:28:00.000+07:00'
author: Nasohi Ciptandani
tags:
- ITNSA
- OpenLDAP
- LDAP
modified_time: '2019-09-09T17:30:24.866+07:00'
blogger_id: tag:blogger.com,1999:blog-7821506235811301823.post-7933302561204225830
blogger_orig_url: https://nciptandani.blogspot.com/2019/09/konfigurasi-libnss-ldap.html
---

OS: Debian 10<br /><br />Libnss-LDAP ini bisa dimanfaatkan sebagai perantara untuk autentikasi ke LDAP server yang akan digunakan sebagai user untuk login system, file server, mail server, dll.<br /><br />Sebelumnya pastikan dulu LDAP Server bisa di query dengan baik dengan perintah berikut<br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#ldapsearch -h &lt;ldapserver&gt; -b dc=&lt;your&gt;,dc=&lt;domain&gt; -x uid=&lt;username&gt;</span><br /><br />Untuk installasi paket nya seperti berikut:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#apt-get install libnss-ldapd</span><br /><br />konfigurasi libnss-ldapd<br /><br />Pada saat installasi libnss-ldapd akan muncul dialog untuk mengisi informasi LDAP Server dan LDAP server tersebut akan digunakan sebagai apa pada sistem untuk autentikasi user cukup memilih passwd<br /><br />Dialog pada saat&nbsp; instalasi juga masih bisa di konfigurasi melalui<br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#nano /etc/nslcd.conf</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">uri ldap://192.168.1.1</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"># The search base that will be used for all queries.</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">base dc=idnux,dc=com</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"># The LDAP protocol version to use.</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">#ldap_version 3</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"># The DN to bind with for normal lookups.</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">binddn cn=admin,dc=idnux,dc=com</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"></span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bindpw $ecr3T</span><br /><br />dan<br /><br /><span style="font-family: courier new, courier, monospace;">#nano /etc/nsswitch.conf</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;">&nbsp;passwd:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;files ldap</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: inherit;">Kemudian restart libnss-ldap untuk membaca konfigurasi</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;">&nbsp;#service nscd restart</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;">#service nslcd restart</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;">&nbsp;</span><span style="font-family: inherit;">Kemudian lihat apakah user pada LDAP server sudah masuk ke sistem dengan perintah</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: courier new, courier, monospace;">&nbsp;#getent passwd</span><br /><span style="font-family: courier new, courier, monospace;"><br /></span><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">&nbsp;Jika user sudah masuk ke sistem maka sudah bisa digunakan untuk autentikasi layanan server seperti file, mail</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">&nbsp;Untuk di file server samba perlu </span><span style="font-family: Courier New, Courier, monospace;">smbpasswd -a namauser</span><span style="font-family: inherit;"> agar bisa digunakan</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Untuk di mail server, dovecot akan otomatis membacanya</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Untuk digunakan sebagai login local sistem maka perlu konfigurasi PAM.</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">&nbsp;Sekian tutorial ini, semoga bermanfaat.</span><br /><br />